@import '../../pages/index.scss';

.form {
	$root: &;
	margin-top: 153px;
	display: grid;
	grid-template-columns: 1fr 836px;
	grid-template-areas: "a ."
					     ". b"
						 ". c";
	
	@include media(1280px, 900px) {
		display: flex;
		flex-direction: column;
		margin-top: 90px;
	}

	@include media(768px, 1024px) {
		margin-top: 70px;
	}

	&__data {
		display: flex;
		flex-direction: column;
		grid-area: b;
		position: relative;

		&.disabled {
			opacity: 0.5;
			pointer-events: none;
		}	

		@include media(1280px, 900px) {
			margin-top: 20px;
		}
	}

	&__title {
		@include text-style(400, 32px, $blue, 38.4px);
		grid-area: a;
		cursor: default;

		@include media(768px, 1024px) {
			font-size: 28px;
			line-height: 34px;
		}

		@include media(580px, 1024px) {
			font-size: 26px;
			line-height: 32px;
		}
	}

	&__label {
		@include text-style(400, 12px, $grey, 18px);
		position: relative;
		left: 20px;
	}

	&__input {
		padding: 14px 20px 14px 20px;
		border-radius: 24px;
		border: 1px solid $blue;
		height: 48px;
		@include text-style(400, 16px, $grey, 24px);
	}

	&__input._error {
		border: 1px solid $red;
	}

	&__email-empty {
		@include text-style(400, 14px, $red, 21px);
		display: none;
		color: #EF1C1C;
		margin-top: 25px;

		@include media(1280px, 900px) {
			margin-top: 20px;
		}

		@include media(768px, 1024px) {
			margin-top: 15px;
		}
	}

	&__email-valid {
		@include text-style(400, 14px, $red, 21px);
		display: none;
		color: #EF1C1C;
		margin-top: 25px;

		@include media(1280px, 900px) {
			margin-top: 20px;
		}

		@include media(768px, 1024px) {
			margin-top: 15px;
		}
	}

	&__agreement {
		margin-top: 14px;
		display: flex;
		align-items: center;
		
		.agreement__input {
			width: 1em;
			height: 1em;
			border: 1px solid $grey;
			position: relative;
			display: flex;
			align-items: center;
			justify-content: center;
			cursor: pointer;

			@include media(580px, 1024px) {
				width: 1.5em;
				height: 1.5em;
			}

			@include media(500px, 1024px) {
				width: 2em;
			}

			&:checked {
				background-color: $lightBlue;	
				border: 1px solid $lightBlue;
				background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg width='10' height='8' viewBox='0 0 10 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M3.64575 5.59405L1.12788 2.89904L0 4.09777L3.64575 8L10 1.19872L8.88006 0L3.64575 5.59405Z' fill='white'/%3e%3c/svg%3e");
				background-position: center;
				background-repeat: no-repeat;
			}
			
		}

		.agreement__input._error {
			border: 1px solid $red;
		}

		.agreement__label {
			@include text-style(400, 14px, $grey, 21px);
			margin-left: 18px;

			@include media(580px, 1024px) {
				font-size: 13px;
			}
		}

		.agreement__link {
			@include text-style(400, 14px, $blue, 21px);

			&:hover {
				text-decoration: underline;
			}
		}
	}

	&__button {
		display: flex;
		align-items: center;
		justify-content: space-around;
		max-width: 170px;
		background-color: $lightBlue;
		color: #fff;
		border-radius: 24px;
		padding: 15px 18px;
		margin-top: 30px;
		transition: background-color 0.5s ease;

		@include text-style(400, 16px, #fff, 16px);

		&:hover {
			background-color: $blue;
		}

		&:active {
			background-color: $lightBlue;
		}

		@include media(1280px, 900px) {
			margin-top: 20px;
		}

		@include media(768px, 1024px) {
			margin-top: 15px;
		}

		@include media(580px, 1024px) {
			max-width: none;
			width: 100%;
			display: flex;
			justify-content: center;

			svg {
				margin-left: 15px;
			}
		}
	}

	&__result {
		display: none;
		align-items: center;
		margin-top: 30px;
		grid-area: c;

		.result__icon {
			display: flex;
			justify-content: center;
			align-items: center;
			width: 48px;
			height: 48px;
			border-radius: 50%;
			border: 2px solid #DEDEDE;
		}

		.result__text {
			margin-left: 21px;
			@include text-style(400, 16px, $green, 20px);
			cursor: default;
		}

		&._error {
			.result__icon {
				position: relative;
				display: flex;
				justify-content: center;
				align-items: center;
				
				&:before {
					content: '';
					width: 22px;
					height: 2px;
					background-color: $red;
					position: absolute;
					transform: rotate(45deg);
				}

				&:after {
					content: '';
					width: 22px;
					height: 2px;
					background-color: $red;
					position: absolute;
					transform: rotate(-45deg);
				}
			}

			.result__text {
				margin-left: 21px;
				@include text-style(400, 16px, $red, 20px);
				cursor: default;
			}
		}
	}

	.loader-wrapper {
		width: 100%;
		height: 100%;
		background-color: rgba(255, 255, 255, 0.5);
		position: absolute;
		top: 0;
		left: 0;
		display: flex;
		align-items: center;
		justify-content: center;
		opacity: 0;
		visibility: hidden;
		transition: opacity 0.5s ease, visibility 0.5s ease;

		.loader {
			width : 48px;
			height: 48px;
			border: 3px solid $black;
			border-radius: 50%;
			display: inline-block;
			position: relative;
			animation: rotation 1s linear infinite;
			&:after {
				content: '';
				position: absolute;
				left: 50%;
				top: 50%;
				transform: translate(-50% , -50%);
				width:  48px + 8px;
				height:  48px + 8px;
				border-radius: 50%;
				border: 3px solid ;
				border-color: $red transparent;
			}
		}

		&._sending {
			opacity: 1;
			visibility: visible;
		}
	}
}

@keyframes rotation {
    0% { transform: rotate(0deg) }
    100% { transform: rotate(360deg) }
}